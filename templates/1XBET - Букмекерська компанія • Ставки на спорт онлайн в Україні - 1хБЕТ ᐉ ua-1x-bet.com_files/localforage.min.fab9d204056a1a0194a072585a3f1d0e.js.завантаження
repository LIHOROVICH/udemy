function _typeof(a){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(a){return typeof a}}else{_typeof=function _typeof(a){return a&&typeof Symbol==="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a}}return _typeof(a)}!function(c){if("object"==(typeof exports==="undefined"?"undefined":_typeof(exports))&&"undefined"!=typeof module)module.exports=c();else if("function"==typeof define&&define.amd)define([],c);else{var a;a="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,a.localforage=c()}}(function(){return function l(m,a,b){function d(e,f){if(!a[e]){if(!m[e]){var g="function"==typeof require&&require;if(!f&&g)return g(e,!0);if(c)return c(e,!0);var h=new Error("Cannot find module '"+e+"'");throw h.code="MODULE_NOT_FOUND",h}var i=a[e]={exports:{}};m[e][0].call(i.exports,function(b){var a=m[e][1][b];return d(a?a:b)},i,i.exports,l,m,a,b)}return a[e].exports}for(var c="function"==typeof require&&require,e=0;e<b.length;e++){d(b[e])}return d}({1:[function(d,m,a){(function(n){"use strict";function a(){j=!0;for(var d,e,f=p.length;f;){for(e=p,p=[],d=-1;++d<f;){e[d]()}f=p.length}j=!1}function b(b){1!==p.push(b)||j||c()}var c,d=n.MutationObserver||n.WebKitMutationObserver;if(d){var f=0,o=new d(a),h=n.document.createTextNode("");o.observe(h,{characterData:!0}),c=function e(){h.data=f=++f%2}}else if(n.setImmediate||"undefined"==typeof n.MessageChannel)c="document"in n&&"onreadystatechange"in n.document.createElement("script")?function(){var c=n.document.createElement("script");c.onreadystatechange=function(){a(),c.onreadystatechange=null,c.parentNode.removeChild(c),c=null},n.document.documentElement.appendChild(c)}:function(){setTimeout(a,0)};else{var i=new n.MessageChannel;i.port1.onmessage=a,c=function e(){i.port2.postMessage(0)}}var j,p=[];m.exports=b}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,a,b){"use strict";function u(){}function d(b){if("function"!=typeof b)throw new TypeError("resolver must be a function");this.state=q,this.queue=[],this.outcome=void 0,b!==u&&h(this,b)}function v(d,a,b){this.promise=d,"function"==typeof a&&(this.onFulfilled=a,this.callFulfilled=this.otherCallFulfilled),"function"==typeof b&&(this.onRejected=b,this.callRejected=this.otherCallRejected)}function f(e,a,b){m(function(){var c;try{c=a(b)}catch(a){return n.reject(e,a)}c===e?n.reject(e,new TypeError("Cannot resolve promise with itself")):n.resolve(e,c)})}function g(c){var a=c&&c.then;if(c&&"object"==_typeof(c)&&"function"==typeof a)return function(){a.apply(c,arguments)}}function h(h,a){function b(a){e||(e=!0,n.reject(h,a))}function c(a){e||(e=!0,n.resolve(h,a))}function d(){a(c,b)}var e=!1,j=i(d);"error"===j.status&&b(j.value)}function i(d,a){var b={};try{b.value=d(a),b.status="success"}catch(c){b.status="error",b.value=c}return b}function e(b){return b instanceof this?b:n.resolve(new this(u),b)}function j(c){var a=new this(u);return n.reject(a,c)}function k(d){function a(f,h){function a(b){l[h]=b,++g!==c||e||(e=!0,n.resolve(m,l))}k.resolve(f).then(a,function(b){e||(e=!0,n.reject(m,b))})}var k=this;if("[object Array]"!==Object.prototype.toString.call(d))return this.reject(new TypeError("must be an array"));var c=d.length,e=!1;if(!c)return this.resolve([]);for(var l=new Array(c),g=0,b=-1,m=new this(u);++b<c;){a(d[b],b)}return m}function l(d){function a(c){b.resolve(c).then(function(b){e||(e=!0,n.resolve(j,b))},function(b){e||(e=!0,n.reject(j,b))})}var b=this;if("[object Array]"!==Object.prototype.toString.call(d))return this.reject(new TypeError("must be an array"));var c=d.length,e=!1;if(!c)return this.resolve([]);for(var i=-1,j=new this(u);++i<c;){a(d[i])}return j}var m=t(1),n={},o=["REJECTED"],p=["FULFILLED"],q=["PENDING"];a.exports=b=d,d.prototype.catch=function(b){return this.then(null,b)},d.prototype.then=function(d,a){if("function"!=typeof d&&this.state===p||"function"!=typeof a&&this.state===o)return this;var b=new this.constructor(u);if(this.state!==q){var c=this.state===p?d:a;f(b,c,this.outcome)}else this.queue.push(new v(b,d,a));return b},v.prototype.callFulfilled=function(b){n.resolve(this.promise,b)},v.prototype.otherCallFulfilled=function(b){f(this.promise,this.onFulfilled,b)},v.prototype.callRejected=function(b){n.reject(this.promise,b)},v.prototype.otherCallRejected=function(b){f(this.promise,this.onRejected,b)},n.resolve=function(j,a){var b=i(g,a);if("error"===b.status)return n.reject(j,b.value);var c=b.value;if(c)h(j,c);else{j.state=p,j.outcome=a;for(var d=-1,k=j.queue.length;++d<k;){j.queue[d].callFulfilled(a)}}return j},n.reject=function(e,a){e.state=o,e.outcome=a;for(var b=-1,f=e.queue.length;++b<f;){e.queue[b].callRejected(a)}return e},b.resolve=e,b.reject=j,b.all=k,b.race=l},{1:1}],3:[function(d,a,b){(function(a){"use strict";"function"!=typeof a.Promise&&(a.Promise=d(2))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(Qa,a,b){"use strict";function c(c,a){if(!(c instanceof a))throw new TypeError("Cannot call a class as a function")}function d(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(b){}}function e(){try{return!!ea&&!("undefined"!=typeof openDatabase&&"undefined"!=typeof navigator&&navigator.userAgent&&/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent))&&ea&&"function"==typeof ea.open&&"undefined"!=typeof IDBKeyRange}catch(b){return!1}}function f(){return"function"==typeof openDatabase}function g(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&localStorage.setItem}catch(b){return!1}}function h(f,g){f=f||[],g=g||{};try{return new Blob(f,g)}catch(a){if("TypeError"!==a.name)throw a;for(var h="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,c=new h,d=0;d<f.length;d+=1){c.append(f[d])}return c.getBlob(g.type)}}function i(c,d){d&&c.then(function(b){d(null,b)},function(b){d(b)})}function j(d,a,b){"function"==typeof a&&d.then(a),"function"==typeof b&&d.catch(b)}function k(f){for(var a=f.length,b=new ArrayBuffer(a),c=new Uint8Array(b),d=0;d<a;d++){c[d]=f.charCodeAt(d)}return b}function l(d){return new Sa(function(e){var a=h([""]);d.objectStore(ia).put(a,"key"),d.onabort=function(b){b.preventDefault(),b.stopPropagation(),e(!1)},d.oncomplete=function(){var b=navigator.userAgent.match(/Chrome\/(\d+)/),a=navigator.userAgent.match(/Edge\//);e(a||!b||parseInt(b[1],10)>=43)}}).catch(function(){return!1})}function m(b){return"boolean"==typeof fa?Sa.resolve(fa):l(b).then(function(b){return fa=b})}function n(d){var a=Ra[d.name],b={};b.promise=new Sa(function(c){b.resolve=c}),a.deferredOperations.push(b),a.dbReady?a.dbReady=a.dbReady.then(function(){return b.promise}):a.dbReady=b.promise}function o(d){var a=Ra[d.name],b=a.deferredOperations.pop();b&&b.resolve()}function p(g,a){return new Sa(function(b,c){if(g.db){if(!a)return b(g.db);n(g),g.db.close()}var d=[g.name];a&&d.push(g.version);var e=ea.open.apply(ea,d);a&&(e.onupgradeneeded=function(a){var b=e.result;try{b.createObjectStore(g.storeName),a.oldVersion<=1&&b.createObjectStore(ia)}catch(b){if("ConstraintError"!==b.name)throw b;console.warn("The database \""+g.name+"\" has been upgraded from version "+a.oldVersion+" to version "+a.newVersion+", but the storage \""+g.storeName+"\" already exists.")}}),e.onerror=function(){c(e.error)},e.onsuccess=function(){b(e.result),o(g)}})}function q(b){return p(b,!1)}function r(b){return p(b,!0)}function s(g,a){if(!g.db)return!0;var b=!g.db.objectStoreNames.contains(g.storeName),c=g.version<g.db.version,d=g.version>g.db.version;if(c&&(g.version!==a&&console.warn("The database \""+g.name+"\" can't be downgraded from version "+g.db.version+" to version "+g.version+"."),g.version=g.db.version),d||b){if(b){var e=g.db.version+1;e>g.version&&(g.version=e)}return!0}return!1}function t(e){return new Sa(function(a,b){var c=new FileReader;c.onerror=b,c.onloadend=function(b){var c=btoa(b.target.result||"");a({__local_forage_encoded_blob:!0,data:c,type:e.type})},c.readAsBinaryString(e)})}function u(c){var a=k(atob(c.data));return h([a],{type:c.type})}function v(b){return b&&b.__local_forage_encoded_blob}function w(d){var e=this,a=e._initReady().then(function(){var b=Ra[e._dbInfo.name];if(b&&b.dbReady)return b.dbReady});return j(a,d,d),a}function x(k){function a(){return Sa.resolve()}var l=this,c={db:null};if(k)for(var b in k){c[b]=k[b]}Ra||(Ra={});var d=Ra[c.name];d||(d={forages:[],db:null,dbReady:null,deferredOperations:[]},Ra[c.name]=d),d.forages.push(l),l._initReady||(l._initReady=l.ready,l.ready=w);for(var e=[],g=0;g<d.forages.length;g++){var m=d.forages[g];m!==l&&e.push(m._initReady().catch(a))}var i=d.forages.slice(0);return Sa.all(e).then(function(){return c.db=d.db,q(c)}).then(function(b){return c.db=b,s(c,l._defaultConfig.version)?r(c):b}).then(function(f){c.db=d.db=f,l._dbInfo=c;for(var a=0;a<i.length;a++){var g=i[a];g!==l&&(g._dbInfo.db=c.db,g._dbInfo.version=c.version)}})}function y(h,e){var j=this;"string"!=typeof h&&(console.warn(h+" used as a key, but it is not a string."),h=String(h));var b=new Sa(function(c,a){j.ready().then(function(){var b=j._dbInfo,d=b.db.transaction(b.storeName,"readonly").objectStore(b.storeName),e=d.get(h);e.onsuccess=function(){var b=e.result;void 0===b&&(b=null),v(b)&&(b=u(b)),c(b)},e.onerror=function(){a(e.error)}}).catch(a)});return i(b,e),b}function z(f,a){var j=this,b=new Sa(function(a,b){j.ready().then(function(){var c=j._dbInfo,d=c.db.transaction(c.storeName,"readonly").objectStore(c.storeName),i=d.openCursor(),g=1;i.onsuccess=function(){var b=i.result;if(b){var c=b.value;v(c)&&(c=u(c));var h=f(c,b.key,g++);void 0!==h?a(h):b.continue()}else a()},i.onerror=function(){b(i.error)}}).catch(b)});return i(b,a),b}function A(j,g,b){var h=this;"string"!=typeof j&&(console.warn(j+" used as a key, but it is not a string."),j=String(j));var c=new Sa(function(a,b){var c;h.ready().then(function(){return c=h._dbInfo,"[object Blob]"===ja.call(g)?m(c.db).then(function(b){return b?g:t(g)}):g}).then(function(e){var f=c.db.transaction(c.storeName,"readwrite"),d=f.objectStore(c.storeName),g=d.put(e,j);null===e&&(e=void 0),f.oncomplete=function(){void 0===e&&(e=null),a(e)},f.onabort=f.onerror=function(){var c=g.error?g.error:g.transaction.error;b(c)}}).catch(b)});return i(c,b),c}function B(j,e){var k=this;"string"!=typeof j&&(console.warn(j+" used as a key, but it is not a string."),j=String(j));var b=new Sa(function(a,b){k.ready().then(function(){var c=k._dbInfo,d=c.db.transaction(c.storeName,"readwrite"),e=d.objectStore(c.storeName),f=e.delete(j);d.oncomplete=function(){a()},d.onerror=function(){b(f.error)},d.onabort=function(){var c=f.error?f.error:f.transaction.error;b(c)}}).catch(b)});return i(b,e),b}function C(d){var h=this,a=new Sa(function(b,d){h.ready().then(function(){var a=h._dbInfo,c=a.db.transaction(a.storeName,"readwrite"),e=c.objectStore(a.storeName),f=e.clear();c.oncomplete=function(){b()},c.onabort=c.onerror=function(){var b=f.error?f.error:f.transaction.error;d(b)}}).catch(d)});return i(a,d),a}function D(d){var g=this,a=new Sa(function(b,a){g.ready().then(function(){var c=g._dbInfo,d=c.db.transaction(c.storeName,"readonly").objectStore(c.storeName),e=d.count();e.onsuccess=function(){b(e.result)},e.onerror=function(){a(e.error)}}).catch(a)});return i(a,d),a}function E(e,a){var j=this,b=new Sa(function(a,b){return e<0?void a(null):void j.ready().then(function(){var c=j._dbInfo,d=c.db.transaction(c.storeName,"readonly").objectStore(c.storeName),f=!1,i=d.openCursor();i.onsuccess=function(){var b=i.result;return b?void(0===e?a(b.key):f?a(b.key):(f=!0,b.advance(e))):void a(null)},i.onerror=function(){b(i.error)}}).catch(b)});return i(b,a),b}function F(d){var h=this,a=new Sa(function(d,a){h.ready().then(function(){var b=h._dbInfo,c=b.db.transaction(b.storeName,"readonly").objectStore(b.storeName),e=c.openCursor(),f=[];e.onsuccess=function(){var a=e.result;return a?(f.push(a.key),void a.continue()):void d(f)},e.onerror=function(){a(e.error)}}).catch(a)});return i(a,d),a}function G(l){var a,m,n,o,p,q=.75*l.length,r=l.length,h=0;"="===l[l.length-1]&&(q--,"="===l[l.length-2]&&q--);var s=new ArrayBuffer(q),j=new Uint8Array(s);for(a=0;a<r;a+=4){m=la.indexOf(l[a]),n=la.indexOf(l[a+1]),o=la.indexOf(l[a+2]),p=la.indexOf(l[a+3]),j[h++]=m<<2|n>>4,j[h++]=(15&n)<<4|o>>2,j[h++]=(3&o)<<6|63&p}return s}function H(e){var a,f=new Uint8Array(e),c="";for(a=0;a<f.length;a+=3){c+=la[f[a]>>2],c+=la[(3&f[a])<<4|f[a+1]>>4],c+=la[(15&f[a+1])<<2|f[a+2]>>6],c+=la[63&f[a+2]]}return f.length%3===2?c=c.substring(0,c.length-1)+"=":f.length%3===1&&(c=c.substring(0,c.length-2)+"=="),c}function I(g,a){var b="";if(g&&(b=Ca.call(g)),g&&("[object ArrayBuffer]"===b||g.buffer&&"[object ArrayBuffer]"===Ca.call(g.buffer))){var h,i=oa;g instanceof ArrayBuffer?(h=g,i+=qa):(h=g.buffer,"[object Int8Array]"===b?i+=sa:"[object Uint8Array]"===b?i+=ta:"[object Uint8ClampedArray]"===b?i+=ua:"[object Int16Array]"===b?i+=va:"[object Uint16Array]"===b?i+=xa:"[object Int32Array]"===b?i+=wa:"[object Uint32Array]"===b?i+=ya:"[object Float32Array]"===b?i+=za:"[object Float64Array]"===b?i+=Aa:a(new Error("Failed to get type for BinaryArray"))),a(i+H(h))}else if("[object Blob]"===b){var j=new FileReader;j.onload=function(){var b=ma+g.type+"~"+H(this.result);a(oa+ra+b)},j.readAsArrayBuffer(g)}else try{a(JSON.stringify(g))}catch(b){console.error("Couldn't convert value into a JSON string: ",g),a(null,b)}}function J(g){if(g.substring(0,pa)!==oa)return JSON.parse(g);var a,i=g.substring(Ba),j=g.substring(pa,Ba);if(j===ra&&na.test(i)){var d=i.match(na);a=d[1],i=i.substring(d[0].length)}var e=G(i);switch(j){case qa:return e;case ra:return h([e],{type:a});case sa:return new Int8Array(e);case ta:return new Uint8Array(e);case ua:return new Uint8ClampedArray(e);case va:return new Int16Array(e);case xa:return new Uint16Array(e);case wa:return new Int32Array(e);case ya:return new Uint32Array(e);case za:return new Float32Array(e);case Aa:return new Float64Array(e);default:throw new Error("Unkown type: "+j);}}function K(f){var g=this,b={db:null};if(f)for(var a in f){b[a]="string"!=typeof f[a]?f[a].toString():f[a]}var c=new Sa(function(c,e){try{b.db=openDatabase(b.name,String(b.version),b.description,b.size)}catch(b){return e(b)}b.db.transaction(function(a){a.executeSql("CREATE TABLE IF NOT EXISTS "+b.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],function(){g._dbInfo=b,c()},function(c,a){e(a)})})});return b.serializer=Da,c}function L(f,e){var g=this;"string"!=typeof f&&(console.warn(f+" used as a key, but it is not a string."),f=String(f));var b=new Sa(function(h,c){g.ready().then(function(){var b=g._dbInfo;b.db.transaction(function(a){a.executeSql("SELECT * FROM "+b.storeName+" WHERE key = ? LIMIT 1",[f],function(e,a){var c=a.rows.length?a.rows.item(0).value:null;c&&(c=b.serializer.deserialize(c)),h(c)},function(d,a){c(a)})})}).catch(c)});return i(b,e),b}function M(g,a){var f=this,b=new Sa(function(a,c){f.ready().then(function(){var b=f._dbInfo;b.db.transaction(function(d){d.executeSql("SELECT * FROM "+b.storeName,[],function(e,c){for(var d=c.rows,f=d.length,k=0;k<f;k++){var l=d.item(k),i=l.value;if(i&&(i=b.serializer.deserialize(i)),i=g(i,l.key,k+1),void 0!==i)return void a(i)}a()},function(d,a){c(a)})})}).catch(c)});return i(b,a),b}function N(h,j,f){var k=this;"string"!=typeof h&&(console.warn(h+" used as a key, but it is not a string."),h=String(h));var c=new Sa(function(a,c){k.ready().then(function(){void 0===j&&(j=null);var b=j,e=k._dbInfo;e.serializer.serialize(j,function(f,g){g?c(g):e.db.transaction(function(g){g.executeSql("INSERT OR REPLACE INTO "+e.storeName+" (key, value) VALUES (?, ?)",[h,f],function(){a(b)},function(d,a){c(a)})},function(b){b.code===b.QUOTA_ERR&&c(b)})})}).catch(c)});return i(c,f),c}function O(f,e){var g=this;"string"!=typeof f&&(console.warn(f+" used as a key, but it is not a string."),f=String(f));var b=new Sa(function(a,c){g.ready().then(function(){var b=g._dbInfo;b.db.transaction(function(d){d.executeSql("DELETE FROM "+b.storeName+" WHERE key = ?",[f],function(){a()},function(d,a){c(a)})})}).catch(c)});return i(b,e),b}function P(d){var e=this,a=new Sa(function(b,d){e.ready().then(function(){var a=e._dbInfo;a.db.transaction(function(c){c.executeSql("DELETE FROM "+a.storeName,[],function(){b()},function(c,a){d(a)})})}).catch(d)});return i(a,d),a}function Q(d){var e=this,a=new Sa(function(f,d){e.ready().then(function(){var a=e._dbInfo;a.db.transaction(function(c){c.executeSql("SELECT COUNT(key) as c FROM "+a.storeName,[],function(a,b){var c=b.rows.item(0).c;f(c)},function(c,a){d(a)})})}).catch(d)});return i(a,d),a}function R(f,a){var g=this,b=new Sa(function(e,c){g.ready().then(function(){var a=g._dbInfo;a.db.transaction(function(b){b.executeSql("SELECT key FROM "+a.storeName+" WHERE id = ? LIMIT 1",[f+1],function(b,a){var c=a.rows.length?a.rows.item(0).key:null;e(c)},function(d,a){c(a)})})}).catch(c)});return i(b,a),b}function S(d){var e=this,a=new Sa(function(f,d){e.ready().then(function(){var a=e._dbInfo;a.db.transaction(function(c){c.executeSql("SELECT key FROM "+a.storeName,[],function(a,b){for(var c=[],d=0;d<b.rows.length;d++){c.push(b.rows.item(d).key)}f(c)},function(c,a){d(a)})})}).catch(d)});return i(a,d),a}function T(e){var a=this,b={};if(e)for(var c in e){b[c]=e[c]}return b.keyPrefix=b.name+"/",b.storeName!==a._defaultConfig.storeName&&(b.keyPrefix+=b.storeName+"/"),a._dbInfo=b,b.serializer=Da,Sa.resolve()}function U(d){var e=this,a=e.ready().then(function(){for(var b=e._dbInfo.keyPrefix,a=localStorage.length-1;a>=0;a--){var f=localStorage.key(a);0===f.indexOf(b)&&localStorage.removeItem(f)}});return i(a,d),a}function V(e,f){var g=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var b=g.ready().then(function(){var a=g._dbInfo,b=localStorage.getItem(a.keyPrefix+e);return b&&(b=a.serializer.deserialize(b)),b});return i(b,f),b}function W(f,a){var k=this,b=k.ready().then(function(){for(var a=k._dbInfo,b=a.keyPrefix,c=b.length,d=localStorage.length,e=1,l=0;l<d;l++){var m=localStorage.key(l);if(0===m.indexOf(b)){var i=localStorage.getItem(m);if(i&&(i=a.serializer.deserialize(i)),i=f(i,m.substring(c),e++),void 0!==i)return i}}});return i(b,a),b}function X(e,a){var f=this,b=f.ready().then(function(){var c,a=f._dbInfo;try{c=localStorage.key(e)}catch(b){c=null}return c&&(c=c.substring(a.keyPrefix.length)),c});return i(b,a),b}function Y(d){var f=this,a=f.ready().then(function(){for(var b=f._dbInfo,a=localStorage.length,c=[],d=0;d<a;d++){0===localStorage.key(d).indexOf(b.keyPrefix)&&c.push(localStorage.key(d).substring(b.keyPrefix.length))}return c});return i(a,d),a}function Z(d){var a=this,b=a.keys().then(function(b){return b.length});return i(b,d),b}function $(e,f){var g=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var b=g.ready().then(function(){var a=g._dbInfo;localStorage.removeItem(a.keyPrefix+e)});return i(b,f),b}function _(f,h,g){var j=this;"string"!=typeof f&&(console.warn(f+" used as a key, but it is not a string."),f=String(f));var c=j.ready().then(function(){void 0===h&&(h=null);var a=h;return new Sa(function(c,e){var d=j._dbInfo;d.serializer.serialize(h,function(g,b){if(b)e(b);else try{localStorage.setItem(d.keyPrefix+f,g),c(a)}catch(b){"QuotaExceededError"!==b.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==b.name||e(b),e(b)}})})});return i(c,g),c}function aa(d,a){d[a]=function(){var b=arguments;return d.ready().then(function(){return d[a].apply(d,b)})}}function ba(){for(var d=1;d<arguments.length;d++){var e=arguments[d];if(e)for(var b in e){e.hasOwnProperty(b)&&(Ma(e[b])?arguments[0][b]=e[b].slice():arguments[0][b]=e[b])}}return arguments[0]}function ca(c){for(var a in Ha){if(Ha.hasOwnProperty(a)&&Ha[a]===c)return!0}return!1}var da="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(b){return _typeof(b)}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":_typeof(b)},ea=d();"undefined"==typeof Promise&&"undefined"!=typeof Qa&&Qa(3);var fa,Ra,Sa=Promise,ia="local-forage-detect-blob-support",ja=Object.prototype.toString,ka={_driver:"asyncStorage",_initStorage:x,iterate:z,getItem:y,setItem:A,removeItem:B,clear:C,length:D,key:E,keys:F},la="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ma="~~local_forage_type~",na=/^~~local_forage_type~([^~]+)~/,oa="__lfsc__:",pa=oa.length,qa="arbf",ra="blob",sa="si08",ta="ui08",ua="uic8",va="si16",wa="si32",xa="ur16",ya="ui32",za="fl32",Aa="fl64",Ba=pa+qa.length,Ca=Object.prototype.toString,Da={serialize:I,deserialize:J,stringToBuffer:G,bufferToString:H},Ea={_driver:"webSQLStorage",_initStorage:K,iterate:M,getItem:L,setItem:N,removeItem:O,clear:P,length:Q,key:R,keys:S},Fa={_driver:"localStorageWrapper",_initStorage:T,iterate:W,getItem:V,setItem:_,removeItem:$,clear:U,length:Z,key:X,keys:Y},Ga={},Ha={INDEXEDDB:"asyncStorage",LOCALSTORAGE:"localStorageWrapper",WEBSQL:"webSQLStorage"},Ia=[Ha.INDEXEDDB,Ha.WEBSQL,Ha.LOCALSTORAGE],Ja=["clear","getItem","iterate","key","keys","length","removeItem","setItem"],Ka={description:"",driver:Ia.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1},La={};La[Ha.INDEXEDDB]=e(),La[Ha.WEBSQL]=f(),La[Ha.LOCALSTORAGE]=g();var Ma=Array.isArray||function(b){return"[object Array]"===Object.prototype.toString.call(b)},Na=function(){function d(a){c(this,d),this.INDEXEDDB=Ha.INDEXEDDB,this.LOCALSTORAGE=Ha.LOCALSTORAGE,this.WEBSQL=Ha.WEBSQL,this._defaultConfig=ba({},Ka),this._config=ba({},this._defaultConfig,a),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver)}return d.prototype.config=function(c){if("object"===("undefined"==typeof c?"undefined":da(c))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var a in c){"storeName"===a&&(c[a]=c[a].replace(/\W/g,"_")),this._config[a]=c[a]}return"driver"in c&&c.driver&&this.setDriver(this._config.driver),!0}return"string"==typeof c?this._config[c]:this._config},d.prototype.defineDriver=function(k,a,b){var c=new Sa(function(a,b){try{var l=k._driver,c=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver"),d=new Error("Custom driver name already in use: "+k._driver);if(!k._driver)return void b(c);if(ca(k._driver))return void b(d);for(var e=Ja.concat("_initStorage"),f=0;f<e.length;f++){var g=e[f];if(!g||!k[g]||"function"!=typeof k[g])return void b(c)}var i=Sa.resolve(!0);"_support"in k&&(i=k._support&&"function"==typeof k._support?k._support():Sa.resolve(!!k._support)),i.then(function(b){La[l]=b,Ga[l]=k,a()},b)}catch(c){b(c)}});return j(c,a,b),c},d.prototype.driver=function(){return this._driver||null},d.prototype.getDriver=function(f,a,b){var c=this,d=Sa.resolve().then(function(){if(!ca(f)){if(Ga[f])return Ga[f];throw new Error("Driver not found.")}switch(f){case c.INDEXEDDB:return ka;case c.LOCALSTORAGE:return Fa;case c.WEBSQL:return Ea;}});return j(d,a,b),d},d.prototype.getSerializer=function(c){var a=Sa.resolve(Da);return j(a,c),a},d.prototype.ready=function(d){var a=this,b=a._driverSet.then(function(){return null===a._ready&&(a._ready=a._initDriver()),a._ready});return j(b,d,d),b},d.prototype.setDriver=function(k,l,b){function m(){e._config.driver=e.driver()}function d(b){return e._extend(b),m(),e._ready=e._initStorage(e._config),e._ready}function c(g){return function(){function a(){for(;b<g.length;){var c=g[b];return b++,e._dbInfo=null,e._ready=null,e.getDriver(c).then(d).catch(a)}m();var f=new Error("No available storage method found.");return e._driverSet=Sa.reject(f),e._driverSet}var b=0;return a()}}var e=this;Ma(k)||(k=[k]);var f=this._getSupportedDrivers(k),g=null!==this._driverSet?this._driverSet.catch(function(){return Sa.resolve()}):Sa.resolve();return this._driverSet=g.then(function(){var b=f[0];return e._dbInfo=null,e._ready=null,e.getDriver(b).then(function(b){e._driver=b._driver,m(),e._wrapLibraryMethodsWithReady(),e._initDriver=c(f)})}).catch(function(){m();var b=new Error("No available storage method found.");return e._driverSet=Sa.reject(b),e._driverSet}),j(this._driverSet,l,b),this._driverSet},d.prototype.supports=function(b){return!!La[b]},d.prototype._extend=function(b){ba(this,b)},d.prototype._getSupportedDrivers=function(f){for(var a=[],b=0,g=f.length;b<g;b++){var d=f[b];this.supports(d)&&a.push(d)}return a},d.prototype._wrapLibraryMethodsWithReady=function(){for(var b=0;b<Ja.length;b++){aa(this,Ja[b])}},d.prototype.createInstance=function(a){return new d(a)},d}(),Oa=new Na;a.exports=Oa},{3:3}]},{},[4])(4)});